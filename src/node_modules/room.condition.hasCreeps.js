const ActionNode = require('tree.node.action')

class EnergyAvailable extends ActionNode {
  tick (context) {
    var room = context.actor

    var creeps = _.filter(Game.creeps, creep => creep.room.name === room.name)
    this.log(context, `room has ${creeps.length} creeps`)
    if (creeps.length >= this.params.min) {
      return SUCCESS
    }

    return FAILURE
  }
}

module.exports = EnergyAvailable
