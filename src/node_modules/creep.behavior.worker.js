// const Tree = require('tree')
// const Selector = require('tree.composite.selector')
//
// const Construct = require('creep.action.construct')
// // const Dismantle = require('creep.action.dismantle')
// const Harvest = require('creep.action.harvest')
// const TransferEnergy = require('creep.action.transferEnergy')
// // const Suicide = require('creep.action.suicide')
// const UpgradeController = require('creep.action.upgradeController')
//
// module.exports = new Tree(
//   'creep.worker',
//   new Selector('prio', [
//     // new Suicide(),
//     // new Dismantle('destroy', {id: '69a128c08a501c234ce89c20'}),
//     new Harvest('getEnergy'),
//     new TransferEnergy('chargeTowers', {type: STRUCTURE_TOWER}),
//     new TransferEnergy('chargeExtensions', {type: STRUCTURE_EXTENSION}),
//     new Construct('construct'),
//     new TransferEnergy('chargeExtensions', {type: STRUCTURE_SPAWN}),
//     new UpgradeController('upgradeController')
//   ])
// )

const Tree = require('tree')
const Sequence = require('tree.composite.sequence')
const Selector = require('tree.composite.selector')

const Construct = require('creep.action.construct')
// const Dismantle = require('creep.action.dismantle')
const Harvest = require('creep.action.harvest')
const Pickup = require('creep.action.pickup')
const TransferEnergy = require('creep.action.transferEnergy')
// const Suicide = require('creep.action.suicide')
const UpgradeController = require('creep.action.upgradeController')

module.exports = new Tree(
  'creep.worker',
  new Sequence('jobOrder', [
    new Selector('getEnergy', [
      // new Sequence('useCappedEnergy', [
      // ]),
      new Pickup('pickup'),
      new Harvest('getEnergy')
    ]),
    new Selector('useEnergy', [
      new TransferEnergy('chargeTowers', {type: STRUCTURE_TOWER}),
      new TransferEnergy('chargeExtensions', {type: STRUCTURE_EXTENSION}),
      new Construct('construct'),
      new TransferEnergy('chargeExtensions', {type: STRUCTURE_SPAWN}),
      new UpgradeController('upgradeController')
    ])
  ])
)
