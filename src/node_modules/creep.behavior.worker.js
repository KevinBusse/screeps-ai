const Tree = require('tree')
const Selector = require('tree.composite.selector')

const Construct = require('creep.action.construct')
// const Dismantle = require('creep.action.dismantle')
const Harvest = require('creep.action.harvest')
const TransferEnergy = require('creep.action.transferEnergy')
// const Suicide = require('creep.action.suicide')
const TransferEnergyToSpawn = require('creep.action.transferEnergyToSpawn')
const UpgradeController = require('creep.action.upgradeController')

module.exports = new Tree(
  'creep.worker',
  new Selector('prio', [
    // new Suicide(),
    // new Dismantle('destroy', {id: '69a128c08a501c234ce89c20'}),
    new Harvest('getEnergy'),
    new TransferEnergy('chargeTowers', {type: STRUCTURE_TOWER}),
    new TransferEnergy('chargeExtensions', {type: STRUCTURE_EXTENSION}),
    new Construct('construct'),
    new TransferEnergyToSpawn('chargeSpawn', {max: 0.7}),
    new UpgradeController('upgradeController')
  ])
)
