var specs = {}
specs.spawn = require('spec.spawn')
specs.switch = require('spec.switch')
specs.tower = require('spec.tower')

module.exports = (room, steps) => {
  _.reduce(steps, (done, options, step) => {
    // If some spec blocks execution of further steps
    if (done) {
      return true
    }
    // When no spec exists for step, skip & notify developer.
    if (!_.has(specs, step)) {
      Game.notify('Spec "' + step + '" for room "' + room + '" is not defined.')
      return false
    }

    return specs[step](options)
  }, false)
}
