const Tree = require('tree')
const Sequence = require('tree.composite.sequence')
const Selector = require('tree.composite.selector')

const Pickup = require('creep.action.pickup')
const TransferEnergy = require('creep.action.transferEnergy')

module.exports = new Tree(
  'creep.manual',
  new Sequence('jobOrder', [
    new Selector('getEnergy', [
      new Pickup('pickup', {debug: false})
    ]),
    new Selector('transferEnergy', [
      new TransferEnergy('chargeTowers', {type: STRUCTURE_TOWER}),
      new TransferEnergy('chargeExtensions', {type: STRUCTURE_EXTENSION}),
      new TransferEnergy('chargeExtensions', {type: STRUCTURE_SPAWN}),
      new TransferEnergy('chargeExtensions', {type: STRUCTURE_STORAGE})
    ])
  ])
)
