const DecoratorNode = require('tree.node.decorator')

class Invert extends DecoratorNode {
  tick (context) {
    if (!this.node) {
      this.log(context, 'No child node provided')
      return FAILURE
    }

    var status = this.node.execute(context)
    if (status === SUCCESS) {
      this.log(context, 'SUCCESS --> FAILURE')
      return FAILURE
    }

    if (status === FAILURE) {
      this.log(context, 'FAILURE --> SUCCESS')
      return SUCCESS
    }

    this.log(context, `${status} --> ${status}`)
    return status
  }
}

module.exports = Invert
